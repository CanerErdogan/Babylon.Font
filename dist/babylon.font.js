var BF=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){t.exports=BABYLON},function(t,e,n){"use strict";const r=-8,o=-4,i=0,a=1,s=1,c=2,u=5,l=1024,f=2048,y=8192,h=0,b=4,d=8,p=12,m=12,g=16,w="undefined"!=typeof BigUint64Array,A=Symbol(),_=1024;function v(t,e){const n=new Uint32Array(t),r=new Uint16Array(t);var i=n[e+o>>>2]>>>1,a=e>>>1;if(i<=_)return String.fromCharCode.apply(String,r.subarray(a,a+i));const s=[];do{const t=r[a+_-1],e=t>=55296&&t<56320?_-1:_;s.push(String.fromCharCode.apply(String,r.subarray(a,a+=e))),i-=e}while(i>_);return s.join("")+String.fromCharCode.apply(String,r.subarray(a,a+i))}function U(t){const e={};function n(t,e){return t?v(t.buffer,e):"<yet unknown>"}const r=t.env=t.env||{};return r.abort=r.abort||function(t,o,i,a){const s=e.memory||r.memory;throw Error("abort: "+n(s,t)+" at "+n(s,o)+":"+i+":"+a)},r.trace=r.trace||function(t,o){const i=e.memory||r.memory;console.log("trace: "+n(i,t)+(o?" ":"")+Array.prototype.slice.call(arguments,2,2+o).join(", "))},t.Math=t.Math||Math,t.Date=t.Date||Date,e}function F(t,e){const n=e.exports,A=n.memory,_=n.table,U=n.__alloc,F=n.__retain,O=n.__rtti_base||-1;function P(t){const e=new Uint32Array(A.buffer);if((t>>>=0)>=e[O>>>2])throw Error("invalid id: "+t);return e[(O+4>>>2)+2*t]}function x(t){const e=new Uint32Array(A.buffer);if((t>>>=0)>=e[O>>>2])throw Error("invalid id: "+t);return e[(O+4>>>2)+2*t+1]}function M(t){return 31-Math.clz32(t>>>u&31)}function S(t,e,n){const r=A.buffer;if(n)switch(t){case 2:return new Float32Array(r);case 3:return new Float64Array(r)}else switch(t){case 0:return new(e?Int8Array:Uint8Array)(r);case 1:return new(e?Int16Array:Uint16Array)(r);case 2:return new(e?Int32Array:Uint32Array)(r);case 3:return new(e?BigInt64Array:BigUint64Array)(r)}throw Error("unsupported align: "+t)}function I(t){const e=new Uint32Array(A.buffer),n=e[t+r>>>2],i=P(n);if(!(i&s))throw Error("not an array: "+n);const a=M(i);var u=e[t+b>>>2];const y=i&c?e[t+m>>>2]:e[u+o>>>2]>>>a;return S(a,i&l,i&f).subarray(u>>>=a,u+y)}function B(t,e,n){const r=A.buffer,i=new Uint32Array(r),a=i[n+b>>>2];return new t(r,a,i[a+o>>>2]>>>e)}return t.__allocString=function(t){const e=t.length,n=U(e<<1,a),r=new Uint16Array(A.buffer);for(var o=0,i=n>>>1;o<e;++o)r[i+o]=t.charCodeAt(o);return n},t.__getString=function(t){const e=A.buffer;if(new Uint32Array(e)[t+r>>>2]!==a)throw Error("not a string: "+t);return v(e,t)},t.__allocArray=function(t,e){const n=P(t);if(!(n&(s|c)))throw Error("not an array: "+t+" @ "+n);const r=M(n),o=e.length,a=U(o<<r,i),u=U(n&c?g:p,t),w=new Uint32Array(A.buffer);w[u+h>>>2]=F(a),w[u+b>>>2]=a,w[u+d>>>2]=o<<r,n&c&&(w[u+m>>>2]=o);const _=S(r,n&l,n&f);if(n&y)for(let t=0;t<o;++t)_[(a>>>r)+t]=F(e[t]);else _.set(e,a>>>r);return u},t.__getArrayView=I,t.__getArray=function(t){const e=I(t),n=e.length,r=new Array(n);for(let t=0;t<n;t++)r[t]=e[t];return r},t.__getArrayBuffer=function(t){const e=A.buffer,n=new Uint32Array(e)[t+o>>>2];return e.slice(t,t+n)},t.__getInt8Array=B.bind(null,Int8Array,0),t.__getUint8Array=B.bind(null,Uint8Array,0),t.__getUint8ClampedArray=B.bind(null,Uint8ClampedArray,0),t.__getInt16Array=B.bind(null,Int16Array,1),t.__getUint16Array=B.bind(null,Uint16Array,1),t.__getInt32Array=B.bind(null,Int32Array,2),t.__getUint32Array=B.bind(null,Uint32Array,2),w&&(t.__getInt64Array=B.bind(null,BigInt64Array,3),t.__getUint64Array=B.bind(null,BigUint64Array,3)),t.__getFloat32Array=B.bind(null,Float32Array,2),t.__getFloat64Array=B.bind(null,Float64Array,3),t.__instanceof=function(t,e){const n=new Uint32Array(A.buffer);var o=n[t+r>>>2];if(o<=n[O>>>2])do{if(o==e)return!0}while(o=x(o));return!1},t.memory=t.memory||A,t.table=t.table||_,j(n,t)}function O(t,e){var n=(...n)=>(e(n.length),t(...n));return n.original=t,n}function P(t){return"undefined"!=typeof Response&&t instanceof Response}async function x(t,e){return P(t=await t)?M(t,e):F(U(e||(e={})),await WebAssembly.instantiate(t instanceof WebAssembly.Module?t:await WebAssembly.compile(t),e))}async function M(t,e){return WebAssembly.instantiateStreaming?F(U(e||(e={})),(await WebAssembly.instantiateStreaming(t,e)).instance):x(P(t=await t)?t.arrayBuffer():t,e)}function j(t,e){var n=e?Object.create(e):{},r=t.__setargc||function(){};function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}for(let e in t){if(!o(t,e))continue;let i=t[e],a=e.split("."),s=n;for(;a.length>1;){let t=a.shift();o(s,t)||(s[t]={}),s=s[t]}let c=a[0],u=c.indexOf("#");if(u>=0){let n=c.substring(0,u),a=s[n];if(void 0===a||!a.prototype){let t=function(...e){return t.wrap(t.prototype.constructor(0,...e))};t.prototype={valueOf:function(){return this[A]}},t.wrap=function(e){return Object.create(t.prototype,{[A]:{value:e,writable:!1}})},a&&Object.getOwnPropertyNames(a).forEach(e=>Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))),s[n]=t}if(c=c.substring(u+1),s=s[n].prototype,/^(get|set):/.test(c)){if(!o(s,c=c.substring(4))){let n=t[e.replace("set:","get:")],r=t[e.replace("get:","set:")];Object.defineProperty(s,c,{get:function(){return n(this[A])},set:function(t){r(this[A],t)},enumerable:!0})}}else"constructor"===c?s[c]=O(i,r):Object.defineProperty(s,c,{value:function(...t){return r(t.length),i(this[A],...t)}})}else/^(get|set):/.test(c)?o(s,c=c.substring(4))||Object.defineProperty(s,c,{get:t[e.replace("set:","get:")],set:t[e.replace("get:","set:")],enumerable:!0}):s[c]="function"==typeof i?O(i,r):i}return n}e.instantiate=x,e.instantiateSync=function(t,e){return F(U(e||(e={})),new WebAssembly.Instance(t instanceof WebAssembly.Module?t:new WebAssembly.Module(t),e))},e.instantiateStreaming=M,e.demangle=j},function(t,e){t.exports=opentype},function(t,e,n){"use strict";n.r(e);var r=n(1),o=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};class i{constructor(t){this.wasm=t}static Build(t){return o(this,void 0,void 0,(function*(){const e={env:{abort(t,e,n,r){console.error("abort called at"+n+":"+r)}}},n=yield r.instantiateStreaming(fetch(t),e);return new i(n)}))}encode(t,e){const n=new DataView(e);let r=0,o=0,i=0;const a="M".codePointAt(0),s="L".codePointAt(0),c="Q".codePointAt(0),u="C".codePointAt(0);for(const e of t){let t=e.type.codePointAt(0);switch(n.setUint8(r,t),r++,t){case a:case s:n.setFloat64(r,e.x,!0),r+=8,n.setFloat64(r,e.y,!0),r+=8,o=e.x,i=e.y;break;case c:n.setFloat64(r,o,!0),r+=8,n.setFloat64(r,i,!0),r+=8,n.setFloat64(r,e.x1,!0),r+=8,n.setFloat64(r,e.y1,!0),r+=8,n.setFloat64(r,e.x,!0),r+=8,n.setFloat64(r,e.y,!0),r+=8,o=e.x,i=e.y;break;case u:n.setFloat64(r,o,!0),r+=8,n.setFloat64(r,i,!0),r+=8,n.setFloat64(r,e.x1,!0),r+=8,n.setFloat64(r,e.y1,!0),r+=8,n.setFloat64(r,e.x2,!0),r+=8,n.setFloat64(r,e.y2,!0),r+=8,n.setFloat64(r,e.x,!0),r+=8,n.setFloat64(r,e.y,!0),r+=8,o=e.x,i=e.y}}return r}compileEncoded(t,e,n,r,o){if(r=Math.max(0,Math.min(255,Math.round(r))),o=Math.abs(o),t!==this.wasm.memory.buffer){const e=this.wasm.memory.buffer;for(let n=0,r=t.byteLength;n<r;++n)e[n]=t[n]}const i=this.wasm.compile(e,n,r,o),a=new Float64Array(this.wasm.memory.buffer),s=this.wasm.__getUint32Array(i),c=new Array(s.length);for(let t=0;t<s.length;t++){const e={fill:[],holes:[]},n=this.wasm.__getUint32Array(s[t]);for(const t of n){const n=this.wasm.__getUint32Array(t);let r;0===e.fill.length?r=e.fill:e.holes.push(r=[]);for(const t of n)r.push([a[0+(t>>>3)],a[1+(t>>>3)]])}c[t]=e}return c}compile(t,e,n,r){const o=this.wasm.memory.buffer,i=this.encode(t,this.wasm.memory.buffer);return this.compileEncoded(o,i,e,n,r)}}var a=n(2),s=n(0),c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};class u{constructor(t,e){this.raw=t,this.compiler=e}static Install(t,e){return c(this,void 0,void 0,(function*(){const n=yield function(t){return new Promise((e,n)=>{a.load(t,(t,r)=>{t?n(t):e(r)})})}(t);return new u(n,e)}))}static Measure(t,e,n){return new l(t,e,n)}static Compile(t,e,n,r,o){const i=t.raw.getPath(e,0,0,n).commands,a=t.raw.outlinesFormat,c=t.compiler.compile(i,a,r,o*n),u=([t,e])=>new s.Vector3(t,0,-e),l=[];for(const{fill:t,holes:e}of c){const n={fill:t.map(u),holes:e.map(t=>t.map(u))};l.push(n)}return l}static BuildMesh(t,e,n){const r=[];for(const{fill:o,holes:i}of t){const t=s.MeshBuilder.CreatePolygon("",Object.assign(Object.assign({},e),{shape:o,holes:i}),n);r.push(t)}return r.length>0?s.Mesh.MergeMeshes(r,!0,!0):null}}class l{constructor(t,e,n){this.font=t,this.name=e,this.size=n}get ascender(){return this.font.raw.ascender/this.font.raw.unitsPerEm*this.size}get descender(){return this.font.raw.descender/this.font.raw.unitsPerEm*this.size}get advanceWidth(){return this.font.raw.getAdvanceWidth(this.name,this.size)}}n.d(e,"Compiler",(function(){return i})),n.d(e,"Font",(function(){return u}))}]);
//# sourceMappingURL=babylon.font.js.map