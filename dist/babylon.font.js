var BF=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=3)}([function(t,e){t.exports=BABYLON},function(t,e,r){"use strict";const n=-8,o=-4,i=0,a=1,s=1,c=2,u=5,l=1024,f=2048,y=8192,h=0,d=4,p=8,b=12,m=12,g=16,w="undefined"!=typeof BigUint64Array,A=Symbol(),_=1024;function v(t,e){const r=new Uint32Array(t),n=new Uint16Array(t);var i=r[e+o>>>2]>>>1,a=e>>>1;if(i<=_)return String.fromCharCode.apply(String,n.subarray(a,a+i));const s=[];do{const t=n[a+_-1],e=t>=55296&&t<56320?_-1:_;s.push(String.fromCharCode.apply(String,n.subarray(a,a+=e))),i-=e}while(i>_);return s.join("")+String.fromCharCode.apply(String,n.subarray(a,a+i))}function U(t){const e={};function r(t,e){return t?v(t.buffer,e):"<yet unknown>"}const n=t.env=t.env||{};return n.abort=n.abort||function(t,o,i,a){const s=e.memory||n.memory;throw Error("abort: "+r(s,t)+" at "+r(s,o)+":"+i+":"+a)},n.trace=n.trace||function(t,o){const i=e.memory||n.memory;console.log("trace: "+r(i,t)+(o?" ":"")+Array.prototype.slice.call(arguments,2,2+o).join(", "))},t.Math=t.Math||Math,t.Date=t.Date||Date,e}function F(t,e){const r=e.exports,A=r.memory,_=r.table,U=r.__alloc,F=r.__retain,O=r.__rtti_base||-1;function P(t){const e=new Uint32Array(A.buffer);if((t>>>=0)>=e[O>>>2])throw Error("invalid id: "+t);return e[(O+4>>>2)+2*t]}function j(t){const e=new Uint32Array(A.buffer);if((t>>>=0)>=e[O>>>2])throw Error("invalid id: "+t);return e[(O+4>>>2)+2*t+1]}function M(t){return 31-Math.clz32(t>>>u&31)}function S(t,e,r){const n=A.buffer;if(r)switch(t){case 2:return new Float32Array(n);case 3:return new Float64Array(n)}else switch(t){case 0:return new(e?Int8Array:Uint8Array)(n);case 1:return new(e?Int16Array:Uint16Array)(n);case 2:return new(e?Int32Array:Uint32Array)(n);case 3:return new(e?BigInt64Array:BigUint64Array)(n)}throw Error("unsupported align: "+t)}function B(t){const e=new Uint32Array(A.buffer),r=e[t+n>>>2],i=P(r);if(!(i&s))throw Error("not an array: "+r);const a=M(i);var u=e[t+d>>>2];const y=i&c?e[t+m>>>2]:e[u+o>>>2]>>>a;return S(a,i&l,i&f).subarray(u>>>=a,u+y)}function I(t,e,r){const n=A.buffer,i=new Uint32Array(n),a=i[r+d>>>2];return new t(n,a,i[a+o>>>2]>>>e)}return t.__allocString=function(t){const e=t.length,r=U(e<<1,a),n=new Uint16Array(A.buffer);for(var o=0,i=r>>>1;o<e;++o)n[i+o]=t.charCodeAt(o);return r},t.__getString=function(t){const e=A.buffer;if(new Uint32Array(e)[t+n>>>2]!==a)throw Error("not a string: "+t);return v(e,t)},t.__allocArray=function(t,e){const r=P(t);if(!(r&(s|c)))throw Error("not an array: "+t+" @ "+r);const n=M(r),o=e.length,a=U(o<<n,i),u=U(r&c?g:b,t),w=new Uint32Array(A.buffer);w[u+h>>>2]=F(a),w[u+d>>>2]=a,w[u+p>>>2]=o<<n,r&c&&(w[u+m>>>2]=o);const _=S(n,r&l,r&f);if(r&y)for(let t=0;t<o;++t)_[(a>>>n)+t]=F(e[t]);else _.set(e,a>>>n);return u},t.__getArrayView=B,t.__getArray=function(t){const e=B(t),r=e.length,n=new Array(r);for(let t=0;t<r;t++)n[t]=e[t];return n},t.__getArrayBuffer=function(t){const e=A.buffer,r=new Uint32Array(e)[t+o>>>2];return e.slice(t,t+r)},t.__getInt8Array=I.bind(null,Int8Array,0),t.__getUint8Array=I.bind(null,Uint8Array,0),t.__getUint8ClampedArray=I.bind(null,Uint8ClampedArray,0),t.__getInt16Array=I.bind(null,Int16Array,1),t.__getUint16Array=I.bind(null,Uint16Array,1),t.__getInt32Array=I.bind(null,Int32Array,2),t.__getUint32Array=I.bind(null,Uint32Array,2),w&&(t.__getInt64Array=I.bind(null,BigInt64Array,3),t.__getUint64Array=I.bind(null,BigUint64Array,3)),t.__getFloat32Array=I.bind(null,Float32Array,2),t.__getFloat64Array=I.bind(null,Float64Array,3),t.__instanceof=function(t,e){const r=new Uint32Array(A.buffer);var o=r[t+n>>>2];if(o<=r[O>>>2])do{if(o==e)return!0}while(o=j(o));return!1},t.memory=t.memory||A,t.table=t.table||_,x(r,t)}function O(t,e){var r=(...r)=>(e(r.length),t(...r));return r.original=t,r}function P(t,e){return F(U(e||(e={})),new WebAssembly.Instance(t,e))}function x(t,e){var r=e?Object.create(e):{},n=t.__setargc||function(){};function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}for(let e in t){if(!o(t,e))continue;let i=t[e],a=e.split("."),s=r;for(;a.length>1;){let t=a.shift();o(s,t)||(s[t]={}),s=s[t]}let c=a[0],u=c.indexOf("#");if(u>=0){let r=c.substring(0,u),a=s[r];if(void 0===a||!a.prototype){let t=function(...e){return t.wrap(t.prototype.constructor(0,...e))};t.prototype={valueOf:function(){return this[A]}},t.wrap=function(e){return Object.create(t.prototype,{[A]:{value:e,writable:!1}})},a&&Object.getOwnPropertyNames(a).forEach(e=>Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))),s[r]=t}if(c=c.substring(u+1),s=s[r].prototype,/^(get|set):/.test(c)){if(!o(s,c=c.substring(4))){let r=t[e.replace("set:","get:")],n=t[e.replace("get:","set:")];Object.defineProperty(s,c,{get:function(){return r(this[A])},set:function(t){n(this[A],t)},enumerable:!0})}}else"constructor"===c?s[c]=O(i,n):Object.defineProperty(s,c,{value:function(...t){return n(t.length),i(this[A],...t)}})}else/^(get|set):/.test(c)?o(s,c=c.substring(4))||Object.defineProperty(s,c,{get:t[e.replace("set:","get:")],set:t[e.replace("get:","set:")],enumerable:!0}):s[c]="function"==typeof i?O(i,n):i}return r}e.instantiate=P,e.instantiateBuffer=function(t,e){return P(new WebAssembly.Module(t),e)},e.instantiateStreaming=async function(t,e){return F(U(e||(e={})),(await WebAssembly.instantiateStreaming(t,e)).instance)},e.demangle=x},function(t,e){t.exports=opentype},function(t,e,r){"use strict";r.r(e);var n=r(1),o=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};class i{constructor(t){this.wasm=t}static Build(t){return o(this,void 0,void 0,(function*(){const e={env:{abort(t,e,r,n){console.error("abort called at"+r+":"+n)}}};let r;if(void 0!==WebAssembly.instantiateStreaming)r=yield n.instantiateStreaming(fetch(t),e);else{const o=yield fetch(t),i=yield o.arrayBuffer();r=yield n.instantiateBuffer(i,e)}return new i(r)}))}encode(t,e){const r=new DataView(e);let n=0,o=0,i=0;const a="M".codePointAt(0),s="L".codePointAt(0),c="Q".codePointAt(0),u="C".codePointAt(0);for(const e of t){let t=e.type.codePointAt(0);switch(r.setUint8(n,t),n++,t){case a:case s:r.setFloat64(n,e.x,!0),n+=8,r.setFloat64(n,e.y,!0),n+=8,o=e.x,i=e.y;break;case c:r.setFloat64(n,o,!0),n+=8,r.setFloat64(n,i,!0),n+=8,r.setFloat64(n,e.x1,!0),n+=8,r.setFloat64(n,e.y1,!0),n+=8,r.setFloat64(n,e.x,!0),n+=8,r.setFloat64(n,e.y,!0),n+=8,o=e.x,i=e.y;break;case u:r.setFloat64(n,o,!0),n+=8,r.setFloat64(n,i,!0),n+=8,r.setFloat64(n,e.x1,!0),n+=8,r.setFloat64(n,e.y1,!0),n+=8,r.setFloat64(n,e.x2,!0),n+=8,r.setFloat64(n,e.y2,!0),n+=8,r.setFloat64(n,e.x,!0),n+=8,r.setFloat64(n,e.y,!0),n+=8,o=e.x,i=e.y}}return n}compileEncoded(t,e,r,n,o){if(n=Math.max(0,Math.min(255,Math.round(n))),o=Math.abs(o),t!==this.wasm.memory.buffer){const e=this.wasm.memory.buffer;for(let r=0,n=t.byteLength;r<n;++r)e[r]=t[r]}const i=this.wasm.compile(e,r,n,o),a=new Float64Array(this.wasm.memory.buffer),s=this.wasm.__getUint32Array(i),c=new Array(s.length);for(let t=0;t<s.length;t++){const e={fill:[],holes:[]},r=this.wasm.__getUint32Array(s[t]);for(const t of r){const r=this.wasm.__getUint32Array(t);let n;0===e.fill.length?n=e.fill:e.holes.push(n=[]);for(const t of r)n.push([a[0+(t>>>3)],a[1+(t>>>3)]])}c[t]=e}return c}compile(t,e,r,n){const o=this.wasm.memory.buffer,i=this.encode(t,this.wasm.memory.buffer);return this.compileEncoded(o,i,e,r,n)}}var a=r(2),s=r(0),c=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))};class u{constructor(t,e){this.raw=t,this.compiler=e}static Install(t,e){return c(this,void 0,void 0,(function*(){const r=yield function(t){return new Promise((e,r)=>{a.load(t,(t,n)=>{t?r(t):e(n)})})}(t);return new u(r,e)}))}static Measure(t,e,r){return new l(t,e,r)}static Compile(t,e,r,n,o){const i=t.raw.getPath(e,0,0,r).commands,a=t.raw.outlinesFormat,c=t.compiler.compile(i,a,n,o*r),u=([t,e])=>new s.Vector3(t,0,-e),l=[];for(const{fill:t,holes:e}of c){const r={fill:t.map(u),holes:e.map(t=>t.map(u))};l.push(r)}return l}static BuildMesh(t,e,r){const n=[];for(const{fill:o,holes:i}of t){const t=s.MeshBuilder.CreatePolygon("",Object.assign(Object.assign({},e),{shape:o,holes:i}),r);n.push(t)}return n.length>0?s.Mesh.MergeMeshes(n,!0,!0):null}}class l{constructor(t,e,r){this.font=t,this.name=e,this.size=r}get ascender(){return this.font.raw.ascender/this.font.raw.unitsPerEm*this.size}get descender(){return this.font.raw.descender/this.font.raw.unitsPerEm*this.size}get advanceWidth(){return this.font.raw.getAdvanceWidth(this.name,this.size)}}r.d(e,"Compiler",(function(){return i})),r.d(e,"Font",(function(){return u}))}]);
//# sourceMappingURL=babylon.font.js.map