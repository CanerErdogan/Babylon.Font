{"version":3,"sources":["webpack://Font/webpack/bootstrap","webpack://Font/external \"BABYLON\"","webpack://Font/./src_wasm/node_modules/assemblyscript/lib/loader/index.js","webpack://Font/external \"opentype\"","webpack://Font/./src/compile_wa.ts","webpack://Font/./src/font.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","BABYLON","ID_OFFSET","SIZE_OFFSET","ARRAYBUFFER_ID","STRING_ID","ARRAYBUFFERVIEW","ARRAY","VAL_ALIGN_OFFSET","VAL_SIGNED","VAL_FLOAT","VAL_MANAGED","ARRAYBUFFERVIEW_BUFFER_OFFSET","ARRAYBUFFERVIEW_DATASTART_OFFSET","ARRAYBUFFERVIEW_DATALENGTH_OFFSET","ARRAYBUFFERVIEW_SIZE","ARRAY_LENGTH_OFFSET","ARRAY_SIZE","BIGINT","BigUint64Array","THIS","CHUNKSIZE","getStringImpl","buffer","ptr","U32","Uint32Array","U16","Uint16Array","length","offset","String","fromCharCode","apply","subarray","parts","last","size","push","join","preInstantiate","imports","baseModule","getString","memory","env","abort","mesg","file","line","colm","Error","trace","console","log","Array","slice","arguments","Math","Date","postInstantiate","instance","rawExports","table","alloc","retain","rttiBase","getInfo","id","getBase","getValueAlign","info","clz32","getView","alignLog2","signed","float","Float32Array","Float64Array","Int8Array","Uint8Array","Int16Array","Int32Array","BigInt64Array","__getArrayView","arr","align","buf","getTypedArrayImpl","Type","bufPtr","__allocString","str","charCodeAt","__getString","__allocArray","values","view","set","__getArray","input","len","out","__getArrayBuffer","__getInt8Array","__getUint8Array","__getUint8ClampedArray","Uint8ClampedArray","__getInt16Array","__getUint16Array","__getInt32Array","__getUint32Array","__getInt64Array","__getUint64Array","__getFloat32Array","__getFloat64Array","__instanceof","baseId","demangle","wrapFunction","fn","setargc","wrap","args","original","instantiate","WebAssembly","Instance","elem","prop","internalName","split","curr","part","shift","hash","indexOf","className","substring","classElem","ctor","constructor","valueOf","this","thisValue","writable","getOwnPropertyNames","forEach","getOwnPropertyDescriptor","test","replace","setter","instantiateBuffer","Module","instantiateStreaming","async","response","opentype","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","init","wasmUrl","_msg","_file","column","error","wasm","loader","fetch","arrayBuffer","cmds","fmt","ppc","eps","max","min","round","abs","bytesUsed","heap","DataView","x","y","M","codePointAt","L","Q","C","cmd","code","type","setUint8","setFloat64","x1","y1","x2","y2","load","compile","shapesPtr","F64","shapesIn","shapesOut","shape","fill","holes","polygons","polygonPtr","vertices","vertexPtr","map","InstallCompiler","compileFn","Compiler","InstallFont","fontUrl","compiler","otFont","err","opentypeLoadAsync","ch","fontSize","otPath","getPath","shapes","commands","outlinesFormat","vec3","shapesXZ","shapeXZ","hole","getAdvanceWidth","ascender","unitsPerEm","descender","tables","os2","oTypoAscender","oTypoDescender","option","scene","isCenter","node","meshes","mesh","CreatePolygon","assign","MergeMeshes","parent","bbox","getBoundingInfo","boundingBox","position","copyFrom","center","scale","node2"],"mappings":"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","file":"font.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = BABYLON;","\"use strict\";\r\n\r\n// Runtime header offsets\r\nconst ID_OFFSET = -8;\r\nconst SIZE_OFFSET = -4;\r\n\r\n// Runtime ids\r\nconst ARRAYBUFFER_ID = 0;\r\nconst STRING_ID = 1;\r\nconst ARRAYBUFFERVIEW_ID = 2;\r\n\r\n// Runtime type information\r\nconst ARRAYBUFFERVIEW = 1 << 0;\r\nconst ARRAY = 1 << 1;\r\nconst SET = 1 << 2;\r\nconst MAP = 1 << 3;\r\nconst VAL_ALIGN_OFFSET = 5;\r\nconst VAL_ALIGN = 1 << VAL_ALIGN_OFFSET;\r\nconst VAL_SIGNED = 1 << 10;\r\nconst VAL_FLOAT = 1 << 11;\r\nconst VAL_NULLABLE = 1 << 12;\r\nconst VAL_MANAGED = 1 << 13;\r\nconst KEY_ALIGN_OFFSET = 14;\r\nconst KEY_ALIGN = 1 << KEY_ALIGN_OFFSET;\r\nconst KEY_SIGNED = 1 << 19;\r\nconst KEY_FLOAT = 1 << 20;\r\nconst KEY_NULLABLE = 1 << 21;\r\nconst KEY_MANAGED = 1 << 22;\r\n\r\n// Array(BufferView) layout\r\nconst ARRAYBUFFERVIEW_BUFFER_OFFSET = 0;\r\nconst ARRAYBUFFERVIEW_DATASTART_OFFSET = 4;\r\nconst ARRAYBUFFERVIEW_DATALENGTH_OFFSET = 8;\r\nconst ARRAYBUFFERVIEW_SIZE = 12;\r\nconst ARRAY_LENGTH_OFFSET = 12;\r\nconst ARRAY_SIZE = 16;\r\n\r\nconst BIGINT = typeof BigUint64Array !== \"undefined\";\r\nconst THIS = Symbol();\r\nconst CHUNKSIZE = 1024;\r\n\r\n/** Gets a string from an U32 and an U16 view on a memory. */\r\nfunction getStringImpl(buffer, ptr) {\r\n  const U32 = new Uint32Array(buffer);\r\n  const U16 = new Uint16Array(buffer);\r\n  var length = U32[(ptr + SIZE_OFFSET) >>> 2] >>> 1;\r\n  var offset = ptr >>> 1;\r\n  if (length <= CHUNKSIZE) return String.fromCharCode.apply(String, U16.subarray(offset, offset + length));\r\n  const parts = [];\r\n  do {\r\n    const last = U16[offset + CHUNKSIZE - 1];\r\n    const size = last >= 0xD800 && last < 0xDC00 ? CHUNKSIZE - 1 : CHUNKSIZE;\r\n    parts.push(String.fromCharCode.apply(String, U16.subarray(offset, offset += size)));\r\n    length -= size;\r\n  } while (length > CHUNKSIZE);\r\n  return parts.join(\"\") + String.fromCharCode.apply(String, U16.subarray(offset, offset + length));\r\n}\r\n\r\n/** Prepares the base module prior to instantiation. */\r\nfunction preInstantiate(imports) {\r\n  const baseModule = {};\r\n\r\n  function getString(memory, ptr) {\r\n    if (!memory) return \"<yet unknown>\";\r\n    return getStringImpl(memory.buffer, ptr);\r\n  }\r\n\r\n  // add common imports used by stdlib for convenience\r\n  const env = (imports.env = imports.env || {});\r\n  env.abort = env.abort || function abort(mesg, file, line, colm) {\r\n    const memory = baseModule.memory || env.memory; // prefer exported, otherwise try imported\r\n    throw Error(\"abort: \" + getString(memory, mesg) + \" at \" + getString(memory, file) + \":\" + line + \":\" + colm);\r\n  }\r\n  env.trace = env.trace || function trace(mesg, n) {\r\n    const memory = baseModule.memory || env.memory;\r\n    console.log(\"trace: \" + getString(memory, mesg) + (n ? \" \" : \"\") + Array.prototype.slice.call(arguments, 2, 2 + n).join(\", \"));\r\n  }\r\n  imports.Math = imports.Math || Math;\r\n  imports.Date = imports.Date || Date;\r\n\r\n  return baseModule;\r\n}\r\n\r\n/** Prepares the final module once instantiation is complete. */\r\nfunction postInstantiate(baseModule, instance) {\r\n  const rawExports = instance.exports;\r\n  const memory = rawExports.memory;\r\n  const table = rawExports.table;\r\n  const alloc = rawExports[\"__alloc\"];\r\n  const retain = rawExports[\"__retain\"];\r\n  const rttiBase = rawExports[\"__rtti_base\"] || ~0; // oob if not present\r\n\r\n  /** Gets the runtime type info for the given id. */\r\n  function getInfo(id) {\r\n    const U32 = new Uint32Array(memory.buffer);\r\n    const count = U32[rttiBase >>> 2];\r\n    if ((id >>>= 0) >= count) throw Error(\"invalid id: \" + id);\r\n    return U32[(rttiBase + 4 >>> 2) + id * 2];\r\n  }\r\n\r\n  /** Gets the runtime base id for the given id. */\r\n  function getBase(id) {\r\n    const U32 = new Uint32Array(memory.buffer);\r\n    const count = U32[rttiBase >>> 2];\r\n    if ((id >>>= 0) >= count) throw Error(\"invalid id: \" + id);\r\n    return U32[(rttiBase + 4 >>> 2) + id * 2 + 1];\r\n  }\r\n\r\n  /** Gets the runtime alignment of a collection's values. */\r\n  function getValueAlign(info) {\r\n    return 31 - Math.clz32((info >>> VAL_ALIGN_OFFSET) & 31); // -1 if none\r\n  }\r\n\r\n  /** Gets the runtime alignment of a collection's keys. */\r\n  function getKeyAlign(info) {\r\n    return 31 - Math.clz32((info >>> KEY_ALIGN_OFFSET) & 31); // -1 if none\r\n  }\r\n\r\n  /** Allocates a new string in the module's memory and returns its retained pointer. */\r\n  function __allocString(str) {\r\n    const length = str.length;\r\n    const ptr = alloc(length << 1, STRING_ID);\r\n    const U16 = new Uint16Array(memory.buffer);\r\n    for (var i = 0, p = ptr >>> 1; i < length; ++i) U16[p + i] = str.charCodeAt(i);\r\n    return ptr;\r\n  }\r\n\r\n  baseModule.__allocString = __allocString;\r\n\r\n  /** Reads a string from the module's memory by its pointer. */\r\n  function __getString(ptr) {\r\n    const buffer = memory.buffer;\r\n    const id = new Uint32Array(buffer)[ptr + ID_OFFSET >>> 2];\r\n    if (id !== STRING_ID) throw Error(\"not a string: \" + ptr);\r\n    return getStringImpl(buffer, ptr);\r\n  }\r\n\r\n  baseModule.__getString = __getString;\r\n\r\n  /** Gets the view matching the specified alignment, signedness and floatness. */\r\n  function getView(alignLog2, signed, float) {\r\n    const buffer = memory.buffer;\r\n    if (float) {\r\n      switch (alignLog2) {\r\n        case 2: return new Float32Array(buffer);\r\n        case 3: return new Float64Array(buffer);\r\n      }\r\n    } else {\r\n      switch (alignLog2) {\r\n        case 0: return new (signed ? Int8Array : Uint8Array)(buffer);\r\n        case 1: return new (signed ? Int16Array : Uint16Array)(buffer);\r\n        case 2: return new (signed ? Int32Array : Uint32Array)(buffer);\r\n        case 3: return new (signed ? BigInt64Array : BigUint64Array)(buffer);\r\n      }\r\n    }\r\n    throw Error(\"unsupported align: \" + alignLog2);\r\n  }\r\n\r\n  /** Allocates a new array in the module's memory and returns its retained pointer. */\r\n  function __allocArray(id, values) {\r\n    const info = getInfo(id);\r\n    if (!(info & (ARRAYBUFFERVIEW | ARRAY))) throw Error(\"not an array: \" + id + \" @ \" + info);\r\n    const align = getValueAlign(info);\r\n    const length = values.length;\r\n    const buf = alloc(length << align, ARRAYBUFFER_ID);\r\n    const arr = alloc(info & ARRAY ? ARRAY_SIZE : ARRAYBUFFERVIEW_SIZE, id);\r\n    const U32 = new Uint32Array(memory.buffer);\r\n    U32[arr + ARRAYBUFFERVIEW_BUFFER_OFFSET >>> 2] = retain(buf);\r\n    U32[arr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2] = buf;\r\n    U32[arr + ARRAYBUFFERVIEW_DATALENGTH_OFFSET >>> 2] = length << align;\r\n    if (info & ARRAY) U32[arr + ARRAY_LENGTH_OFFSET >>> 2] = length;\r\n    const view = getView(align, info & VAL_SIGNED, info & VAL_FLOAT);\r\n    if (info & VAL_MANAGED) {\r\n      for (let i = 0; i < length; ++i) view[(buf >>> align) + i] = retain(values[i]);\r\n    } else {\r\n      view.set(values, buf >>> align);\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  baseModule.__allocArray = __allocArray;\r\n\r\n  /** Gets a view on the values of an array in the module's memory. */\r\n  function __getArrayView(arr) {\r\n    const U32 = new Uint32Array(memory.buffer);\r\n    const id = U32[arr + ID_OFFSET >>> 2];\r\n    const info = getInfo(id);\r\n    if (!(info & ARRAYBUFFERVIEW)) throw Error(\"not an array: \" + id);\r\n    const align = getValueAlign(info);\r\n    var buf = U32[arr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2];\r\n    const length = info & ARRAY\r\n      ? U32[arr + ARRAY_LENGTH_OFFSET >>> 2]\r\n      : U32[buf + SIZE_OFFSET >>> 2] >>> align;\r\n    return getView(align, info & VAL_SIGNED, info & VAL_FLOAT)\r\n          .subarray(buf >>>= align, buf + length);\r\n  }\r\n\r\n  baseModule.__getArrayView = __getArrayView;\r\n\r\n  /** Reads (copies) the values of an array from the module's memory. */\r\n  function __getArray(arr) {\r\n    const input = __getArrayView(arr);\r\n    const len = input.length;\r\n    const out = new Array(len);\r\n    for (let i = 0; i < len; i++) out[i] = input[i];\r\n    return out;\r\n  }\r\n\r\n  baseModule.__getArray = __getArray;\r\n\r\n  /** Reads (copies) the data of an ArrayBuffer from the module's memory. */\r\n  function __getArrayBuffer(ptr) {\r\n    const buffer = memory.buffer;\r\n    const length = new Uint32Array(buffer)[ptr + SIZE_OFFSET >>> 2];\r\n    return buffer.slice(ptr, ptr + length);\r\n  }\r\n\r\n  baseModule.__getArrayBuffer = __getArrayBuffer;\r\n\r\n  function getTypedArrayImpl(Type, alignLog2, ptr) {\r\n    const buffer = memory.buffer;\r\n    const U32 = new Uint32Array(buffer);\r\n    const bufPtr = U32[ptr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2];\r\n    return new Type(buffer, bufPtr, U32[bufPtr + SIZE_OFFSET >>> 2] >>> alignLog2);\r\n  }\r\n\r\n  /** Gets a view on the values of a known-to-be Int8Array in the module's memory. */\r\n  baseModule.__getInt8Array = getTypedArrayImpl.bind(null, Int8Array, 0);\r\n  /** Gets a view on the values of a known-to-be Uint8Array in the module's memory. */\r\n  baseModule.__getUint8Array = getTypedArrayImpl.bind(null, Uint8Array, 0);\r\n  /** Gets a view on the values of a known-to-be Uint8ClampedArray in the module's memory. */\r\n  baseModule.__getUint8ClampedArray = getTypedArrayImpl.bind(null, Uint8ClampedArray, 0);\r\n  /** Gets a view on the values of a known-to-be Int16Array in the module's memory. */\r\n  baseModule.__getInt16Array = getTypedArrayImpl.bind(null, Int16Array, 1);\r\n  /** Gets a view on the values of a known-to-be Uint16Array in the module's memory. */\r\n  baseModule.__getUint16Array = getTypedArrayImpl.bind(null, Uint16Array, 1);\r\n  /** Gets a view on the values of a known-to-be Int32Array in the module's memory. */\r\n  baseModule.__getInt32Array = getTypedArrayImpl.bind(null, Int32Array, 2);\r\n  /** Gets a view on the values of a known-to-be Uint32Array in the module's memory. */\r\n  baseModule.__getUint32Array = getTypedArrayImpl.bind(null, Uint32Array, 2);\r\n  if (BIGINT) {\r\n    /** Gets a view on the values of a known-to-be-Int64Array in the module's memory. */\r\n    baseModule.__getInt64Array = getTypedArrayImpl.bind(null, BigInt64Array, 3);\r\n    /** Gets a view on the values of a known-to-be-Uint64Array in the module's memory. */\r\n    baseModule.__getUint64Array = getTypedArrayImpl.bind(null, BigUint64Array, 3);\r\n  }\r\n  /** Gets a view on the values of a known-to-be Float32Array in the module's memory. */\r\n  baseModule.__getFloat32Array = getTypedArrayImpl.bind(null, Float32Array, 2);\r\n  /** Gets a view on the values of a known-to-be Float64Array in the module's memory. */\r\n  baseModule.__getFloat64Array = getTypedArrayImpl.bind(null, Float64Array, 3);\r\n\r\n  /** Tests whether an object is an instance of the class represented by the specified base id. */\r\n  function __instanceof(ptr, baseId) {\r\n    const U32 = new Uint32Array(memory.buffer);\r\n    var id = U32[(ptr + ID_OFFSET) >>> 2];\r\n    if (id <= U32[rttiBase >>> 2]) {\r\n      do if (id == baseId) return true;\r\n      while (id = getBase(id));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  baseModule.__instanceof = __instanceof;\r\n\r\n  // Pull basic exports to baseModule so code in preInstantiate can use them\r\n  baseModule.memory = baseModule.memory || memory;\r\n  baseModule.table  = baseModule.table  || table;\r\n\r\n  // Demangle exports and provide the usual utility on the prototype\r\n  return demangle(rawExports, baseModule);\r\n}\r\n\r\n/** Wraps a WebAssembly function while also taking care of variable arguments. */\r\nfunction wrapFunction(fn, setargc) {\r\n  var wrap = (...args) => {\r\n    setargc(args.length);\r\n    return fn(...args);\r\n  }\r\n  wrap.original = fn;\r\n  return wrap;\r\n}\r\n\r\n/** Instantiates an AssemblyScript module using the specified imports. */\r\nfunction instantiate(module, imports) {\r\n  return postInstantiate(\r\n    preInstantiate(imports || (imports = {})),\r\n    new WebAssembly.Instance(module, imports)\r\n  );\r\n}\r\n\r\nexports.instantiate = instantiate;\r\n\r\n/** Instantiates an AssemblyScript module from a buffer using the specified imports. */\r\nfunction instantiateBuffer(buffer, imports) {\r\n  return instantiate(new WebAssembly.Module(buffer), imports);\r\n}\r\n\r\nexports.instantiateBuffer = instantiateBuffer;\r\n\r\n/** Instantiates an AssemblyScript module from a response using the specified imports. */\r\nasync function instantiateStreaming(response, imports) {\r\n  return postInstantiate(\r\n    preInstantiate(imports || (imports = {})),\r\n    (await WebAssembly.instantiateStreaming(response, imports)).instance\r\n  );\r\n}\r\n\r\nexports.instantiateStreaming = instantiateStreaming;\r\n\r\n/** Demangles an AssemblyScript module's exports to a friendly object structure. */\r\nfunction demangle(exports, baseModule) {\r\n  var module = baseModule ? Object.create(baseModule) : {};\r\n  var setargc = exports[\"__setargc\"] || function() {};\r\n  function hasOwnProperty(elem, prop) {\r\n    return Object.prototype.hasOwnProperty.call(elem, prop);\r\n  }\r\n  for (let internalName in exports) {\r\n    if (!hasOwnProperty(exports, internalName)) continue;\r\n    let elem = exports[internalName];\r\n    let parts = internalName.split(\".\");\r\n    let curr = module;\r\n    while (parts.length > 1) {\r\n      let part = parts.shift();\r\n      if (!hasOwnProperty(curr, part)) curr[part] = {};\r\n      curr = curr[part];\r\n    }\r\n    let name = parts[0];\r\n    let hash = name.indexOf(\"#\");\r\n    if (hash >= 0) {\r\n      let className = name.substring(0, hash);\r\n      let classElem = curr[className];\r\n      if (typeof classElem === \"undefined\" || !classElem.prototype) {\r\n        let ctor = function(...args) {\r\n          return ctor.wrap(ctor.prototype.constructor(0, ...args));\r\n        };\r\n        ctor.prototype = {\r\n          valueOf: function valueOf() {\r\n            return this[THIS];\r\n          }\r\n        };\r\n        ctor.wrap = function(thisValue) {\r\n          return Object.create(ctor.prototype, { [THIS]: { value: thisValue, writable: false } });\r\n        };\r\n        if (classElem) Object.getOwnPropertyNames(classElem).forEach(name =>\r\n          Object.defineProperty(ctor, name, Object.getOwnPropertyDescriptor(classElem, name))\r\n        );\r\n        curr[className] = ctor;\r\n      }\r\n      name = name.substring(hash + 1);\r\n      curr = curr[className].prototype;\r\n      if (/^(get|set):/.test(name)) {\r\n        if (!hasOwnProperty(curr, name = name.substring(4))) {\r\n          let getter = exports[internalName.replace(\"set:\", \"get:\")];\r\n          let setter = exports[internalName.replace(\"get:\", \"set:\")];\r\n          Object.defineProperty(curr, name, {\r\n            get: function() { return getter(this[THIS]); },\r\n            set: function(value) { setter(this[THIS], value); },\r\n            enumerable: true\r\n          });\r\n        }\r\n      } else {\r\n        if (name === 'constructor') {\r\n          curr[name] = wrapFunction(elem, setargc);\r\n        } else { // for methods\r\n          Object.defineProperty(curr, name, {\r\n            value: function (...args) {\r\n              setargc(args.length);\r\n              return elem(this[THIS], ...args);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      if (/^(get|set):/.test(name)) {\r\n        if (!hasOwnProperty(curr, name = name.substring(4))) {\r\n          Object.defineProperty(curr, name, {\r\n            get: exports[internalName.replace(\"set:\", \"get:\")],\r\n            set: exports[internalName.replace(\"get:\", \"set:\")],\r\n            enumerable: true\r\n          });\r\n        }\r\n      } else if (typeof elem === \"function\") {\r\n        curr[name] = wrapFunction(elem, setargc);\r\n      } else {\r\n        curr[name] = elem;\r\n      }\r\n    }\r\n  }\r\n\r\n  return module;\r\n}\r\n\r\nexports.demangle = demangle;\r\n","module.exports = opentype;","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as loader from '../src_wasm/node_modules/assemblyscript/lib/loader';\r\n//\r\n// Public API\r\n//\r\nexport function init(wasmUrl) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        //\r\n        // Imports of instantiate\r\n        //\r\n        const imports = {\r\n            env: {\r\n                abort(_msg, _file, line, column) {\r\n                    console.error(\"abort called at assembly/index.ts:\" + line + \":\" + column);\r\n                },\r\n            },\r\n        };\r\n        //\r\n        // Instantiate\r\n        // https://caniuse.com/#search=instantiateStreaming\r\n        //\r\n        let wasm;\r\n        if (typeof WebAssembly.instantiateStreaming !== \"undefined\") {\r\n            wasm = yield loader.instantiateStreaming(fetch(wasmUrl), imports);\r\n        }\r\n        else {\r\n            const response = yield fetch(wasmUrl);\r\n            const buffer = yield response.arrayBuffer();\r\n            wasm = yield loader.instantiateBuffer(buffer, imports);\r\n        }\r\n        //\r\n        // Return a fn implemented ICompileFn\r\n        // Throws, from load(), if setFloat64() to addr exceeding \"--memoryBase\"\r\n        //\r\n        return function compile(cmds, fmt, ppc = 0, eps = 0) {\r\n            ppc = Math.max(0, Math.min(255, Math.round(ppc)));\r\n            eps = Math.abs(eps);\r\n            const bytesUsed = load(wasm, cmds);\r\n            const result = wasm.compile(bytesUsed, fmt, ppc, eps);\r\n            return map(wasm, result);\r\n        };\r\n    });\r\n}\r\n// ----\r\n// Internal\r\n// ----\r\n//\r\n// Load IPathCommand[] in linear memory\r\n// Will not check memory access; May throw.\r\n//\r\nfunction load(wasm, cmds) {\r\n    const heap = wasm.memory.buffer;\r\n    const view = new DataView(heap);\r\n    const SZ = 8;\r\n    let i = 0;\r\n    let x = 0;\r\n    let y = 0;\r\n    const M = 'M'.codePointAt(0);\r\n    const L = 'L'.codePointAt(0);\r\n    const Q = 'Q'.codePointAt(0);\r\n    const C = 'C'.codePointAt(0);\r\n    for (const cmd of cmds) {\r\n        let code = cmd.type.codePointAt(0);\r\n        view.setUint8(i, code);\r\n        i++;\r\n        switch (code) {\r\n            case M:\r\n            case L:\r\n                view.setFloat64(i, cmd.x, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.y, true);\r\n                i += SZ;\r\n                x = cmd.x;\r\n                y = cmd.y;\r\n                break;\r\n            case Q:\r\n                view.setFloat64(i, x, true);\r\n                i += SZ;\r\n                view.setFloat64(i, y, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.x1, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.y1, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.x, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.y, true);\r\n                i += SZ;\r\n                x = cmd.x;\r\n                y = cmd.y;\r\n                break;\r\n            case C:\r\n                view.setFloat64(i, x, true);\r\n                i += SZ;\r\n                view.setFloat64(i, y, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.x1, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.y1, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.x2, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.y2, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.x, true);\r\n                i += SZ;\r\n                view.setFloat64(i, cmd.y, true);\r\n                i += SZ;\r\n                x = cmd.x;\r\n                y = cmd.y;\r\n                break;\r\n        }\r\n        // 'Z' .. noop\r\n    }\r\n    return i;\r\n}\r\nfunction map(wasm, shapesPtr) {\r\n    const F64 = new Float64Array(wasm.memory.buffer);\r\n    const shapesIn = wasm.__getUint32Array(shapesPtr);\r\n    const shapesOut = new Array(shapesIn.length);\r\n    for (let i = 0; i < shapesIn.length; i++) {\r\n        const shape = { fill: [], holes: [] };\r\n        const polygons = wasm.__getUint32Array(shapesIn[i]);\r\n        for (const polygonPtr of polygons) {\r\n            const vertices = wasm.__getUint32Array(polygonPtr);\r\n            let arr;\r\n            if (shape.fill.length === 0) {\r\n                arr = shape.fill;\r\n            }\r\n            else {\r\n                shape.holes.push(arr = []);\r\n            }\r\n            for (const vertexPtr of vertices) {\r\n                arr.push([\r\n                    F64[(vertexPtr >>> 3) + 0],\r\n                    F64[(vertexPtr >>> 3) + 1] // y\r\n                ]);\r\n            }\r\n        }\r\n        shapesOut[i] = shape;\r\n    }\r\n    return shapesOut;\r\n}\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as opentype from 'opentype.js';\r\nimport * as BABYLON from 'babylonjs';\r\nimport { init } from './compile_wa';\r\nexport function InstallCompiler(wasmUrl) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const compileFn = yield init(wasmUrl);\r\n        return new Compiler(compileFn);\r\n    });\r\n}\r\nexport function InstallFont(fontUrl, compiler) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const otFont = yield opentypeLoadAsync(fontUrl);\r\n        return new Font(otFont, compiler);\r\n    });\r\n}\r\nfunction opentypeLoadAsync(fontUrl) {\r\n    return new Promise((resolve, reject) => {\r\n        opentype.load(fontUrl, (err, otFont) => {\r\n            if (err)\r\n                reject(err);\r\n            else\r\n                resolve(otFont);\r\n        });\r\n    });\r\n}\r\nclass Font {\r\n    constructor(otFont, compiler) {\r\n        this.otFont = otFont;\r\n        this.compiler = compiler;\r\n    }\r\n    compile(ch, ppc, eps, fontSize) {\r\n        const otPath = this.otFont.getPath(ch, 0, 0, fontSize);\r\n        const shapes = this.compiler.compile(otPath.commands, this.otFont.outlinesFormat, ppc, eps * fontSize);\r\n        const vec3 = ([x, y]) => new BABYLON.Vector3(x, 0, -y);\r\n        const shapesXZ = [];\r\n        for (const { fill, holes } of shapes) {\r\n            const shapeXZ = {\r\n                fill: fill.map(vec3),\r\n                holes: holes.map(hole => hole.map(vec3))\r\n            };\r\n            shapesXZ.push(shapeXZ);\r\n        }\r\n        return shapesXZ;\r\n    }\r\n    //\r\n    // Get data of single character\r\n    //\r\n    char(name, fontSize, ppc, eps) {\r\n        const shapes = this.compile(name, ppc, eps, fontSize);\r\n        return new Char(name, fontSize, shapes, this.otFont);\r\n    }\r\n}\r\n//\r\n// Compiler\r\n//\r\nclass Compiler {\r\n    constructor(compileFn) {\r\n        this.compileFn = compileFn;\r\n    }\r\n    compile(cmds, fmt, ppc, eps) {\r\n        return this.compileFn(cmds, fmt, ppc, eps);\r\n    }\r\n}\r\n//\r\n// Char (all props are calc on demand)\r\n//\r\nclass Char {\r\n    constructor(\r\n    // Char name\r\n    name, \r\n    // Font size in opentypejs space\r\n    fontSize, \r\n    // Shapes already mapped to BABYLON.Vector3\r\n    shapes, \r\n    // Raw opentypejs Font\r\n    otFont) {\r\n        this.name = name;\r\n        this.fontSize = fontSize;\r\n        this.shapes = shapes;\r\n        this.otFont = otFont;\r\n    }\r\n    //\r\n    // Advanced width of glyph (included left/right bearings)\r\n    //\r\n    get advanceWidth() {\r\n        return this.otFont.getAdvanceWidth(this.name, this.fontSize);\r\n    }\r\n    //\r\n    // Font ascender. proportional to fontSize \r\n    //\r\n    get ascender() {\r\n        return this.otFont.ascender / this.otFont.unitsPerEm * this.fontSize;\r\n    }\r\n    //\r\n    // Font descender, negative value; proportional to fontSize\r\n    //\r\n    get descender() {\r\n        return this.otFont.descender / this.otFont.unitsPerEm * this.fontSize;\r\n    }\r\n    //\r\n    // CJK info\r\n    //\r\n    get sTypoAscender() {\r\n        return this.otFont.tables.os2.oTypoAscender / this.otFont.unitsPerEm\r\n            * this.fontSize;\r\n    }\r\n    //\r\n    // CJK info \r\n    //\r\n    get sTypoDescender() {\r\n        return this.otFont.tables.os2.oTypoDescender / this.otFont.unitsPerEm\r\n            * this.fontSize;\r\n    }\r\n    //\r\n    // Create a merged Mesh for single character; Not centered\r\n    //\r\n    node(option, scene, isCenter = false) {\r\n        const node = new BABYLON.TransformNode('', scene);\r\n        const meshes = [];\r\n        let mesh;\r\n        for (const { fill, holes } of this.shapes) {\r\n            const mesh = BABYLON.MeshBuilder.CreatePolygon('', Object.assign(Object.assign({}, option), { shape: fill, holes: holes }), scene);\r\n            meshes.push(mesh);\r\n        }\r\n        if (meshes.length) {\r\n            mesh = BABYLON.Mesh.MergeMeshes(meshes, true);\r\n            mesh.parent = node;\r\n            if (isCenter) {\r\n                const bbox = mesh.getBoundingInfo().boundingBox;\r\n                node.position.copyFrom(bbox.center.scale(-1));\r\n                const node2 = new BABYLON.TransformNode('', scene);\r\n                node.parent = node2;\r\n                return node2;\r\n            }\r\n        }\r\n        return node;\r\n    }\r\n}\r\n"],"sourceRoot":""}